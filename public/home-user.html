<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Party Planner - Home (User)</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- CSP meta tag -->
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; img-src 'self' data:;"
    />
    <!-- Materialize CSS -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/main.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body id="home-user">
    <nav>
      <div class="nav-wrapper">
        <a href="#" class="brand-logo center">Party Planner</a>
        <ul id="nav-mobile" class="left hide-on-med-and-down">
          <li><a href="/logout" class="btn">Logout</a></li>
          <li><a href="#" id="darkModeToggle" class="btn">Dark Mode</a></li>
        </ul>
      </div>
    </nav>
    <div class="container" style="margin-top: 30px">
      <h4 id="welcomeMessage">Welcome, User!</h4>
      <div class="row">
        <!-- Hidden Reservation Form -->
        <div
          id="reservationFormContainer"
          style="display: none; margin-top: 20px"
        >
          <div class="card" id="reservationFormCard">
            <div class="card-content">
              <h5>Make a Reservation</h5>
              <form id="reservationForm">
                <div class="input-field">
                  <input type="text" id="reservationName" required />
                  <label for="reservationName">Name (First and Last)</label>
                </div>
                <div class="input-field">
                  <input type="date" id="reservationDate" required />
                  <label for="reservationDate">Date</label>
                </div>
                <!-- Custom Time Table -->
                <div class="time-table">
                  <label for="reservationTimeTable">Select Time</label>
                  <div id="reservationTimeTable">
                    <button type="button" class="time-slot" data-time="09:00">
                      09:00am
                    </button>
                    <button type="button" class="time-slot" data-time="09:30">
                      09:30am
                    </button>
                    <button type="button" class="time-slot" data-time="10:00">
                      10:00am
                    </button>
                    <button type="button" class="time-slot" data-time="10:30">
                      10:30am
                    </button>
                    <button type="button" class="time-slot" data-time="11:00">
                      11:00am
                    </button>
                    <button type="button" class="time-slot" data-time="11:30">
                      11:30am
                    </button>
                    <button type="button" class="time-slot" data-time="12:00">
                      12:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="12:30">
                      12:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="13:00">
                      01:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="13:30">
                      01:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="14:00">
                      02:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="14:30">
                      02:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="15:00">
                      03:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="15:30">
                      03:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="16:00">
                      04:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="16:30">
                      04:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="17:00">
                      05:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="17:30">
                      05:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="18:00">
                      06:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="18:30">
                      06:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="19:00">
                      07:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="19:30">
                      07:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="20:00">
                      08:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="20:30">
                      08:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="21:00">
                      09:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="21:30">
                      09:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="22:00">
                      10:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="22:30">
                      10:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="23:00">
                      11:00pm
                    </button>
                    <button type="button" class="time-slot" data-time="23:30">
                      11:30pm
                    </button>
                    <button type="button" class="time-slot" data-time="00:00">
                      12:00am
                    </button>
                  </div>
                  <!-- Hidden input to store the selected time -->
                  <input
                    type="hidden"
                    id="reservationTime"
                    name="reservationTime"
                    required
                  />
                </div>
                <div class="input-field">
                  <input type="text" id="reservationLocation" required />
                  <label for="reservationLocation">Location</label>
                </div>
                <div class="input-field">
                  <textarea
                    id="reservationDetails"
                    class="materialize-textarea"
                  ></textarea>
                  <label for="reservationDetails">Additional Details</label>
                </div>
                <!-- Hidden vendor field -->
                <input type="hidden" id="reservationVendor" />
                <button type="submit" class="btn">Submit Reservation</button>
                <button type="button" id="cancelReservation" class="btn red">
                  Cancel
                </button>
              </form>
            </div>
          </div>
        </div>
        <!-- Vendor Search Section -->
        <div class="col s12 m6">
          <h5>Search for Vendors</h5>
          <form id="vendorSearchForm">
            <div class="input-field">
              <input type="text" id="searchName" placeholder="Vendor Name" />
              <label for="searchName">Vendor Name</label>
            </div>
            <div class="input-field">
              <select id="searchService">
                <option value="" disabled selected>Select Service</option>
                <option value="Food">Food</option>
                <option value="Music">Music</option>
                <option value="Photos">Photos</option>
                <option value="Videos">Videos</option>
                <option value="Decorations">Decorations</option>
              </select>
              <label>Service</label>
            </div>
            <div class="input-field">
              <select id="searchPrice">
                <option value="" disabled selected>Select Price</option>
                <option value="$">$</option>
                <option value="$$">$$</option>
                <option value="$$$">$$$</option>
              </select>
              <label>Price</label>
            </div>
            <div class="input-field">
              <input
                type="text"
                id="searchTags"
                placeholder="Tags (comma-separated)"
              />
              <label for="searchTags">Tags</label>
            </div>
            <button type="submit" class="btn">Search</button>
            <button type="button" id="resetFilters" class="btn">
              Reset Filters
            </button>
          </form>
          <div id="vendorResults"></div>
        </div>
        <!-- Reservation History Section -->
        <div class="col s12 m6">
          <h5>Your Reservation History</h5>
          <div id="reservationHistory"></div>
        </div>
      </div>
    </div>

    <!-- Chat Modal -->
    <div id="chatModal" class="modal">
      <div class="modal-content">
        <h4>Chat</h4>
        <div
          id="chatMessages"
          style="max-height: 300px; overflow-y: auto; margin-bottom: 20px"
        ></div>
        <div class="input-field">
          <input type="text" id="chatInput" placeholder="Type your message" />
          <label for="chatInput">Message</label>
        </div>
      </div>
      <div class="modal-footer">
        <a
          href="#!"
          id="sendChatBtn"
          class="modal-close waves-effect waves-green btn"
          >Send</a
        >
      </div>
    </div>

    <!-- Review Modal -->
    <div id="reviewModal" class="modal">
      <div class="modal-content">
        <h4>Leave a Review</h4>
        <form id="reviewForm">
          <div class="input-field">
            <select id="reviewRating" required>
              <option value="" disabled selected>Select Rating</option>
              <option value="1">1 Star</option>
              <option value="2">2 Stars</option>
              <option value="3">3 Stars</option>
              <option value="4">4 Stars</option>
              <option value="5">5 Stars</option>
            </select>
            <label>Rating</label>
          </div>
          <div class="input-field">
            <textarea id="reviewText" class="materialize-textarea"></textarea>
            <label for="reviewText">Review</label>
          </div>
          <input type="hidden" id="reviewVendor" />
          <button type="submit" class="btn">Submit Review</button>
        </form>
        <div id="reviewsList" style="margin-top: 20px"></div>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-close waves-effect waves-green btn">Close</a>
      </div>
    </div>

    <!-- Materialize JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- External home.js -->
    <script src="js/home.js"></script>
  </body>
</html>
